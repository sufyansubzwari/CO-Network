#import './fragments.graphql'

query userQuery($id: String){
  user(id: $id) {
    _id
    createdAt
    services
    profile {
      name
      lastName
      nickName
      loginCount
      image
      cover
      gender
      website
      phone
      isSignUp
      professional{
        industry{
          _id
          name
          label
          value
          type
        }
        salaryRange{
          min
          max
        }
        jobType{
          label
          value
          name
          active
        }
        seeking
      }
      social{
        facebook
        twitter
        github
        linkedin
        google
      }
      aboutMe{
        yourPassion
        existingProblem
        steps
      }
      knowledge{
        languages{
          tag{
            _id
            name
            label
            value
            type
            used
          }
          level
          levelColor
          icon
        }
        curiosity{
          tag{
            _id
            name
            label
            value
            type
            used
          }
          level
          levelColor
          icon
        }
        lookingFor{
          label
          value
          name
          active
        }
      }
      speaker{
        join
        lookingFor{
          name
          label
          value
          active
        }
          topic{
          name
          label
          value
          type
        }
        stage{
          name
          label
          value
          active
        }
        otherlooking{
          name
          label
          value
          type
        }
        otherpreferred{
          name
          label
          value
          type
        }
      }
      place{
        _id
        owner
        entity
        location{
          address
          location{
            lat
            lng
          }
        }
      }
      achievements{
        study
        type
        institution
        story
        degree{
          label
          type
        }
        organization
        position
        help
        experience
        name
        link
        level{
          label
          type
        }
        category{
          name
          label
          value
          type
        }
        id
        year
        explain
        _id
      }
    }
    subscriptions {
      endpoint
      keys {
        auth
        p256dh
      }
    }
  }
}

query achievementsQuery($id: String){
  user(id: $id) {
    profile {
      achievements{
        study
        type
        institution
        story
        degree{
          label
          type
        }
        organization
        position
        help
        experience
        name
        link
        level{
          label
          type
        }
        category{
          name
          label
          value
          type
        }
        id
        year
        explain
        _id
      }
    }
}
}

query userList{
  users{
    ...userFragment
  }
}

query getUsers($limit: Int, $filter: String, $user: UsersInputSearch){
    users(limit: $limit, filter: $filter, user: $user){
            _id
            profile {
                isSignUp
                name
                user_id
                lastName
                nickName
                loginCount
                identities {
                    provider
                    user_id
                    profileData {
                        name
                        email
                    }
                }
                email
                image
                cover
                gender
                website
                phone
                aboutMe{
                    yourPassion
                }
                knowledge{
                  languages{
                    tag{
                      _id
                      name
                      label
                      value
                      type
                      used
                    }
                    level
                    levelColor
                    icon
                  }
                  curiosity{
                    tag{
                      _id
                      name
                      label
                      value
                      type
                      used
                    }
                    level
                    levelColor
                    icon
                  }
                  lookingFor{
                    label
                    value
                    name
                    active
                  }
                }
            }
            views
      entity
    }
}

query UsersFieldCounts($field: String){
  usersFieldCounts(field: $field){
    _id
    number
  }
}